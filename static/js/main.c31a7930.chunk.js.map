{"version":3,"sources":["cmps/BoxSound.jsx","services/audioService.js","sound/1.mp3","sound/2.mp3","sound/bass.mp3","sound/electricguitar.mp3","sound/5.mp3","sound/GrooveB_120bpm_Tanggu.mp3","sound/MazePolitics_120_Perc.mp3","sound/PAS3GROOVE1.03B.mp3","sound/SilentStar_120_Em_OrganSynth.mp3","pages/Home.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["BoxSound","info","isOn","updateAudio","src","endOfLoop","useState","volume","setVolume","useSound","loop","id","duration","onend","console","log","Play","audioInfo","useEffect","play","stop","className","isWaiting","onClick","ev","stopPropagation","playSquare","type","min","max","onChange","target","value","handleChangeVolume","audioService","queryAudios","audios","name","Home","setIsOn","setAudios","toggleLoop","setToggleLoop","soundPaths","audio1","audio2","audio3","audio4","audio5","audio6","audio7","audio8","audio9","newToggle","key","newAudios","map","audio","filter","length","every","some","onPlay","idx","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c31a7930.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport useSound from 'use-sound'\n\nexport function BoxSound({ info, isOn, updateAudio, src, endOfLoop }) {\n    const [volume, setVolume] = useState(0.5);\n    const [Play, audioInfo] = useSound(src, {\n        loop: [true, info.id],\n        volume,\n        duration: 8,\n        onend: () => {\n            console.log('Sound ended!');\n            endOfLoop()\n        },\n    })\n\n    useEffect(() => {\n        if (info.play) {\n            Play()\n        }\n    }, [info])\n\n    useEffect(() => {\n        if (!isOn) {\n            audioInfo.stop()\n        }\n    }, [isOn])\n\n    function playSquare(ev) {\n        ev.stopPropagation();\n\n        if ((info.isWaiting || info.play)) {\n            audioInfo.stop()\n            updateAudio('stop', info, audioInfo)\n            return\n        }\n        updateAudio('waiting', info, audioInfo)\n    }\n\n    function handleChangeVolume(ev) {\n        ev.stopPropagation()\n        const volume = +(ev.target.value / 10)\n        setVolume(volume)\n    }\n\n    return (\n        <div className={`square ${(info.play) ? 'squareOn' : ''}${info.isWaiting ? 'wait' : ''}`} onClick={(ev) => playSquare(ev)}>\n            <h2>{info.type}</h2>\n            <input type=\"range\" min=\"0\" max=\"10\" className=\"round\" onChange={(ev) => handleChangeVolume(ev)} />\n        </div>\n    )\n}\n","export const audioService = {\n    queryAudios\n}\n// const BASE_URL = (process.env.NODE_ENV === 'development') ? '/api/audio'\n//     : '//localhost:3030/api/audio';\nconst audios = [\n    { id: 1, type: 'Rhythm1', name: 'audio1', play: false, isWaiting: false },\n    { id: 2, type: 'Timmer', name: 'audio2', play: false, isWaiting: false },\n    { id: 3, type: 'Electric guitar', name: 'audio3', play: false, isWaiting: false },\n    { id: 4, type: 'Guitar', name: 'audio4', play: false, isWaiting: false },\n    { id: 5, type: 'Rhythm2', name: 'audio5', play: false, isWaiting: false },\n    { id: 6, type: 'Drums', name: 'audio6', play: false, isWaiting: false },\n    { id: 7, type: 'Maze Politics', name: 'audio7', play: false, isWaiting: false },\n    { id: 8, type: 'Rhythm3', name: 'audio8', play: false, isWaiting: false },\n    { id: 9, type: 'Silent Star', name: 'audio9', play: false, isWaiting: false }\n]\n\nfunction queryAudios() {\n    return audios\n}","export default __webpack_public_path__ + \"static/media/1.5eb417fc.mp3\";","export default __webpack_public_path__ + \"static/media/2.37c82282.mp3\";","export default __webpack_public_path__ + \"static/media/bass.52c24c81.mp3\";","export default __webpack_public_path__ + \"static/media/electricguitar.230fcab8.mp3\";","export default __webpack_public_path__ + \"static/media/5.27bdc145.mp3\";","export default __webpack_public_path__ + \"static/media/GrooveB_120bpm_Tanggu.3e1411b4.mp3\";","export default __webpack_public_path__ + \"static/media/MazePolitics_120_Perc.2d08c654.mp3\";","export default __webpack_public_path__ + \"static/media/PAS3GROOVE1.03B.f77c6da4.mp3\";","export default __webpack_public_path__ + \"static/media/SilentStar_120_Em_OrganSynth.f2d668af.mp3\";","import { useEffect, useState } from 'react';\nimport { BoxSound } from '../cmps/BoxSound';\nimport { audioService } from '../services/audioService';\nimport audio1 from '../sound/1.mp3'\nimport audio2 from '../sound/2.mp3'\nimport audio3 from '../sound/bass.mp3'\nimport audio4 from '../sound/electricguitar.mp3'\nimport audio5 from '../sound/5.mp3'\nimport audio6 from '../sound/GrooveB_120bpm_Tanggu.mp3'\nimport audio7 from '../sound/MazePolitics_120_Perc.mp3'\nimport audio8 from '../sound/PAS3GROOVE1.03B.mp3'\nimport audio9 from '../sound/SilentStar_120_Em_OrganSynth.mp3'\n\nexport function Home() {\n    const [isOn, setIsOn] = useState(false)\n    const [audios, setAudios] = useState([])\n    const [toggleLoop, setToggleLoop] = useState(false)\n    let soundPaths = [audio1, audio2, audio3, audio4, audio5, audio6, audio7, audio8, audio9]\n\n    useEffect(() => {\n        setAudios(audioService.queryAudios())\n    }, [])\n\n    useEffect(() => {\n        if (isOn) {\n            setToggleLoop(false)\n            const newAudios = audios?.map(audio =>\n                audio.isWaiting && !audio.play\n                    ? { ...audio, isWaiting: false, play: true }\n                    : audio\n            );\n            setAudios(newAudios)\n        }\n    }, [toggleLoop, isOn])\n\n\n\n\n    function onPlay() {\n        if (!isOn) {\n            const readyToPlay = audios.some(audio => audio.isWaiting)\n            if (!readyToPlay) return\n        }\n        setIsOn(!isOn)\n        if (isOn) {\n            setIsOn(false)\n            const newAudios = audios.map(audio => ({ ...audio, isWaiting: false, play: false }))\n            setAudios(newAudios)\n        }\n    }\n    useEffect(() => {\n        if (isOn) {\n            const noPlaying = audios.every(audio => audio.play === false)\n            if (noPlaying) setIsOn(false)\n        }\n    }, [audios])\n\n    function newToggle() {\n        setToggleLoop(!toggleLoop)\n    }\n\n    function updateAudio(key, info) {\n        if (key === 'waiting') {\n            const newAudios = audios.map(audio =>\n                audio.id === info.id\n                    ? { ...audio, isWaiting: true }\n                    : audio\n            );\n            setAudios(newAudios)\n        } else if (key === 'stop') {\n            let newAudios = audios.map(audio =>\n                audio.id === info.id\n                    ? { ...audio, isWaiting: false, play: false }\n                    : audio\n            );\n            const whoWait = audios.filter(audio => audio.isWaiting)\n            if (whoWait.length) {\n                newAudios = audios.map(audio =>\n                    (audio.isWaiting || audio.play) && info.id === audio.id\n                        ? { ...audio, isWaiting: false, play: false }\n                        : audio\n                );\n                setAudios(newAudios)\n            } else {\n                newAudios = newAudios.map(audio =>\n                    audio.isWaiting\n                        ? { ...audio, isWaiting: false, play: true }\n                        : audio\n                );\n                setAudios(newAudios)\n            }\n\n        }\n\n    }\n\n\n    return (\n        <div className=\"page\">\n            <h1>Loop Machine </h1>\n            <div className=\"btn-box\">\n                <button onClick={() => onPlay()} className={`button ${isOn ? 'stop' : ''} `}></button>\n            </div>\n            <div className=\"container\">\n                {audios.map((audio, idx) => {\n                    return (\n                        <BoxSound\n                            key={audio.id}\n                            info={audio}\n                            src={soundPaths[idx]}\n                            isOn={isOn}\n                            updateAudio={updateAudio}\n                            endOfLoop={newToggle}\n                        />\n                    )\n                })}\n\n            </div>\n        </div>\n\n    )\n}","import { Home } from \"./pages/Home\";\n\nexport function App() {\n  return (\n    <Home />\n  );\n}\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App.jsx';\nimport './assets/main.scss'\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}